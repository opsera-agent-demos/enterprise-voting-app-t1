# ╔══════════════════════════════════════════════════════════════════════════════╗
# ║  DEV Environment Overlay - Voting App                                        ║
# ║  Direct deployment strategy for fast iteration                               ║
# ╚══════════════════════════════════════════════════════════════════════════════╝

apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: voting-app-dev

resources:
  - ../../base
  - namespace.yaml
  - db-secret.yaml

patches:
  - path: patch-replicas.yaml
  - path: patch-ingress.yaml

commonLabels:
  environment: dev

# Images - Updated by CI/CD workflow
images:
  - name: vote
    newName: 792373136340.dkr.ecr.us-west-2.amazonaws.com/vote
    newTag: 19c61dc-20260128065555
  - name: result
    newName: 792373136340.dkr.ecr.us-west-2.amazonaws.com/result
    newTag: 19c61dc-20260128065555
  - name: worker
    newName: 792373136340.dkr.ecr.us-west-2.amazonaws.com/worker
    newTag: 19c61dc-20260128065555
