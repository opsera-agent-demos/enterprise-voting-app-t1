# ════════════════════════════════════════════════════════════════════════════════
# NEW RELIC PYTHON AGENT CONFIGURATION
#
# Environment variables override these settings:
#   NEW_RELIC_LICENSE_KEY - License key (required)
#   NEW_RELIC_APP_NAME - Application name
#   NEW_RELIC_HOST - Collector host (for mock server)
#   NEW_RELIC_LOG_LEVEL - Log level
# ════════════════════════════════════════════════════════════════════════════════

[newrelic]
# License key - OVERRIDE with NEW_RELIC_LICENSE_KEY env var
license_key = OVERRIDE_VIA_ENV_VAR

# Application name - OVERRIDE with NEW_RELIC_APP_NAME env var
app_name = voting01-vote

# ═══════════════════════════════════════════════════════════════════════════════
# COLLECTOR CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════════

# Collector host - OVERRIDE with NEW_RELIC_HOST env var
# For mock server, set NEW_RELIC_HOST=opsera-opsera-newrelic-dev.agent.opsera.dev
host = collector.newrelic.com

# Use HTTPS
ssl = true

# ═══════════════════════════════════════════════════════════════════════════════
# AGENT BEHAVIOR
# ═══════════════════════════════════════════════════════════════════════════════

monitor_mode = true
high_security = false

# Log level - OVERRIDE with NEW_RELIC_LOG_LEVEL env var
log_level = info
log_file = stdout

# ═══════════════════════════════════════════════════════════════════════════════
# DISTRIBUTED TRACING
# ═══════════════════════════════════════════════════════════════════════════════

distributed_tracing.enabled = true

# ═══════════════════════════════════════════════════════════════════════════════
# TRANSACTION TRACER
# ═══════════════════════════════════════════════════════════════════════════════

transaction_tracer.enabled = true
transaction_tracer.transaction_threshold = apdex_f
transaction_tracer.record_sql = obfuscated

# ═══════════════════════════════════════════════════════════════════════════════
# ERROR COLLECTOR - Critical for canary analysis
# ═══════════════════════════════════════════════════════════════════════════════

error_collector.enabled = true
error_collector.ignore_status_codes = 100-102 200-208 226 300-308

# ═══════════════════════════════════════════════════════════════════════════════
# APPLICATION LOGGING
# ═══════════════════════════════════════════════════════════════════════════════

application_logging.enabled = true
application_logging.forwarding.enabled = true
application_logging.metrics.enabled = true

# ═══════════════════════════════════════════════════════════════════════════════
# BROWSER MONITORING (disabled)
# ═══════════════════════════════════════════════════════════════════════════════

browser_monitoring.auto_instrument = false
