apiVersion: v1
kind: ConfigMap
metadata:
  name: opseravote1-config
  labels:
    app.kubernetes.io/name: opseravote1
    environment: dev
data:
  # Redis Configuration (for Vote service)
  REDIS_HOST: PLACEHOLDER_REDIS_HOST
  REDIS_PORT: "6379"

  # PostgreSQL Configuration (for Result service)
  DATABASE_HOST: PLACEHOLDER_DATABASE_HOST
  DATABASE_PORT: "5432"
  DATABASE_NAME: votes
  DATABASE_USER: postgres

  # AWS Secrets Manager ARN for DB credentials
  DATABASE_SECRET_ARN: PLACEHOLDER_DATABASE_SECRET_ARN

  # Application Settings
  ENVIRONMENT: dev
  LOG_LEVEL: debug

  # New Relic APM Configuration
  NEW_RELIC_HOST: "opsera-opsera-newrelic-dev.agent.opsera.dev"
  NEW_RELIC_DISTRIBUTED_TRACING_ENABLED: "true"
  NEW_RELIC_LOG_LEVEL: "info"
  NEW_RELIC_LABELS: "environment:dev;app:opseravote1;team:platform"
  NEW_RELIC_ENVIRONMENT: "dev"
  NEW_RELIC_APPLICATION_LOGGING_ENABLED: "true"
  NEW_RELIC_APPLICATION_LOGGING_FORWARDING_ENABLED: "true"

  # Error Simulation Configuration
  ERROR_SIM_ENABLED: "false"
  ERROR_SIM_RATE: "0.5"
  ERROR_SIM_AUTO_DISABLE_SECONDS: "300"
